<html>
    <head>
    </head>
    <body>
        <canvas id="glyph-display" style="height: 500px; width: 500px;">
        </canvas>
        <script>
         var glyph =   {"id": 1,
                        "mappedTo": "A",
                        "vertexCount": 9,
                        "leftHandPosition": -5,
                        "rightHandPosition": 5,
                        "vertices": [{"x": 0,"y": -5},
                                     {"x": -4,"y": 4},
                                     "PENUP",
                                     {"x": 0,"y": -5},
                                     {"x": 4,"y": 4},
                                     "PENUP",
                                     {"x": -2,"y": 1},
                                     {"x": 2,"y": 1}
                        ],
                        "width": 10,
                        "height": 9
         };

         var scale = 5;
         var offset = 30;
         var penUp = false;
         
         var canvas = document.getElementById('glyph-display');
         var ctx = canvas.getContext("2d");
         ctx.strokeStyle = "blue";
         ctx.moveTo(0, 0);
         var moveRelative = function (vertex) {
             transformedX = offset + vertex["x"] * scale;
             transformedY = offset + vertex["y"] * scale;
             console.log("Penup: " + transformedX + " " + transformedY);
             ctx.moveTo(offset + vertex["x"] * scale,
                        offset + vertex["y"] * scale);
         };

         var lineRelative = function (vertex) {
             transformedX = offset + vertex["x"] * scale;
             transformedY = offset + vertex["y"] * scale;
             console.log("Line: " + transformedX + " " + transformedY);
             ctx.lineTo(transformedX, transformedY);
         };

         var drawGlyph = function() {
             ctx.beginPath()
             for (var i=0; i < glyph.vertices.length; i+=1) {
                 if (glyph.vertices[i] === "PENUP") {
                     penUp = true;
                 } else {
                     if (penUp == true) {
                         moveRelative(glyph.vertices[i]);
                         penUp = false;
                     } else {
                         lineRelative(glyph.vertices[i]);
                     }
                 }
             }
             ctx.closePath();
             ctx.stroke();
         };
         drawGlyph();
         // ctx.beginPath();
         // ctx.moveTo(0, 0);
         // ctx.lineTo(100, 100);
         // ctx.closePath();
         // ctx.stroke();
        </script>
    </body>
</html>
